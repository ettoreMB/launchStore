
{% extends 'layout.njk' %}


{% block content %}

<section class="user-dashboard container form">

    <form method="POST" action="/users?_method=PUT">


        <div class="header">
            <h3>User</h3>
        </div>


        <div class="fields">
            {% include 'user/fields.njk'%}
        </div>

        <input name="id" type="hidden" value="{{user.id}}">

        <button class="button edit" type="submit">Atualizar</button>


    </form>

    <form id="form-delete" action="/users?_method=DELETE" method="POST" >
    
        <input name="id" type="hidden" value="{{user.id}}">

        <button class="button delete" type="submit">Deletar</button>
    </form>

</section>


<script>
    const fomDelete = document.querySelector("#form-delete");
    fomDelete.addEventListener("submit", function (event) {
        const confirmation = confirm("Deseja deleltar?");
        if (!confirmation) {
            event.preventDefault();
        }
    })
</script>

{% endblock content %}